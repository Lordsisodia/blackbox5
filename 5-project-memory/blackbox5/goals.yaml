# Blackbox5 Autonomous Agent Goals
# =============================================================================
# Purpose: Explicit goals for the autonomous agent's continuous improvement
# Updated: 2026-02-01
# =============================================================================

meta:
  version: "1.1.0"
  last_updated: "2026-02-10"
  review_cycle: "monthly"
  owner: "autonomous-agent"
  changelog:
    - date: "2026-02-10"
      version: "1.1.0"
      changes:
        - "Merged IG-002 into IG-001 (guidance consolidation)"
        - "Expanded IG-004 to include subagent optimization"
        - "Reframed IG-008 as continuous memory improvement (MVP complete)"
        - "Merged IG-010 into IG-009 (hook system phases)"
        - "Added IG-007, IG-009, IG-011 to improvement_goals list"
        - "Documented all merged goals"

# =============================================================================
# CORE GOALS - What the agent is working to achieve
# =============================================================================

core_goals:
  - id: CG-001
    name: "Continuous Self-Improvement"
    description: "The agent must continuously improve its own capabilities, processes, and effectiveness"
    priority: critical
    status: active
    success_criteria:
      - "Learning captured from every run"
      - "First principles review every 5 runs"
      - "At least 1 improvement applied per review cycle"
    metrics:
      - "improvement_metrics.learnings_captured"
      - "improvement_metrics.improvements_applied"

  - id: CG-002
    name: "Ship Features Autonomously"
    description: "Complete tasks from backlog to production without human intervention"
    priority: critical
    status: active
    success_criteria:
      - "Task completion rate > 90%"
      - "Zero commits to main/master"
      - "All quality gates passed"
    metrics:
      - "activity.tasks_completed"
      - "improvement_metrics.velocity_trends.task_completion_time"

  - id: CG-003
    name: "Maintain System Integrity"
    description: "Never break existing functionality, always validate before committing"
    priority: critical
    status: active
    success_criteria:
      - "All assumptions validated before acting"
      - "Tests passing before commit"
      - "No destructive operations without confirmation"
    metrics:
      - "improvement_metrics.velocity_trends.error_rate"
      - "improvement_metrics.velocity_trends.rework_required"

# =============================================================================
# IMPROVEMENT GOALS - Specific targets for self-improvement
# =============================================================================

improvement_goals:
  # --- Agent Guidance Goals (merged IG-001 + IG-002) ---
  - id: IG-001
    name: "Improve CLAUDE.md Guidance"
    description: "Continuously refine agent guidance to improve decision-making, operational efficiency, and execution quality"
    category: guidance
    target_file: "~/.claude/CLAUDE.md"
    priority: high
    status: active
    note: "Merged IG-002 (LEGACY.md) - operational procedures are part of guidance"
    current_issues:
      - "Decision framework could be more specific"
      - "Context management thresholds may need tuning"
      - "Skill discovery may be too slow"
      - "Quality gates could be more specific"
    improvement_ideas:
      - "Add more specific examples to decision framework"
      - "Tune context thresholds based on usage patterns"
      - "Clarify sub-agent deployment rules"
      - "Cache frequently used skills"
      - "Add specific quality gate checklists per task type"
    success_criteria:
      - "Faster task initiation (less hesitation)"
      - "Fewer context overflow exits"
      - "More appropriate sub-agent usage"
      - "Reduced run setup time"

  # --- MERGED: IG-002 into IG-001 ---
  # IG-002 (LEGACY.md Operational Efficiency) merged into IG-001 on 2026-02-10
  # Rationale: LEGACY.md and CLAUDE.md serve the same purpose - agent guidance

  # --- System Flow Goals ---
  - id: IG-003
    name: "Improve System Flow and Code Mapping"
    description: "Better understand and navigate how everything fits together"
    category: process
    target_file: "system"
    priority: high
    status: active
    current_issues:
      - "Cross-project dependencies sometimes missed"
      - "Context gathering can be inefficient"
    improvement_ideas:
      - "Build project relationship map"
      - "Optimize context gatherer prompts"
      - "Create dependency detection heuristics"
    success_criteria:
      - "Fewer 'missed file' errors"
      - "Faster context acquisition"
      - "Better cross-project awareness"

  # --- Skills and Subagent Optimization Goals ---
  - id: IG-004
    name: "Improve Skill and Subagent Usage"
    description: "Optimize how agents use skills and deploy subagents - make both more effective, timely, and efficient"
    category: capabilities
    target_file: "~/blackbox5/.skills/"
    priority: high
    status: active
    note: "Expanded 2026-02-10 to include subagent optimization"
    current_issues:
      - "Some skills may be redundant"
      - "Skill triggers may need tuning"
      - "Missing skills for common tasks"
      - "Subagents sometimes deployed when direct execution is faster"
      - "Subagents sometimes NOT deployed when they should be"
    improvement_ideas:
      - "Track skill usage frequency"
      - "Consolidate similar skills"
      - "Add skills for underrepresented task types"
      - "Tune trigger scoring based on effectiveness"
      - "Audit subagent deployment patterns"
      - "Refine subagent vs direct execution criteria"
    success_criteria:
      - "Higher skill hit rate (triggers when needed)"
      - "Lower skill false-positive rate"
      - "Appropriate subagent deployment"
      - "Faster task completion overall"

  # --- MERGED: IG-005 into IG-007 ---
  # IG-005 (Documentation Quality) merged into IG-007 on 2026-02-04
  # Now part of "Continuous Architecture Evolution & Documentation Improvement"

  # --- Memory Architecture Goals ---
  - id: IG-008
    name: "Improve Memory Architecture"
    description: "Continuously improve how agents remember, recall, and learn from experience"
    category: architecture
    target_file: "~/blackbox5/5-project-memory/blackbox5/.autonomous/memory/"
    priority: critical
    status: active
    note: "MVP complete (Hindsight 4-network). Now continuous improvement phase."
    current_issues:
      - "No persistent memory across sessions"
      - "Cannot recall past experiences effectively"
      - "No cross-task pattern detection"
    improvement_ideas:
      - "RETAIN: Auto-extract memories from all tasks/runs"
      - "RECALL: Semantic search with <500ms latency"
      - "REFLECT: Belief updating with confidence tracking"
      - "Cross-task pattern detection"
    success_criteria:
      - "90%+ tasks have memories retained"
      - "Recall latency <500ms"
      - "Agents demonstrate continuity of self"

  # --- Architecture Goals ---
  - id: IG-006
    name: "Improve Architecture Clarity"
    description: "Clean up scattered .autonomous folders, establish clear separation of concerns, make layout intuitive for AI agents"
    category: architecture
    target_file: "~/blackbox5/"
    priority: critical
    status: active
    current_issues:
      - "7 .autonomous folders scattered throughout"
      - "Unclear separation between engine and project data"
      - "Legacy task system coexists with new task system"
      - "Root .autonomous purpose unclear"
      - "Agents confused about where things belong"
    improvement_ideas:
      - "Rename 2-engine/.autonomous to autonomous-core"
      - "Consolidate all project data in blackbox5/autonomous/"
      - "Delete obsolete .autonomous folders"
      - "Create clear migration plan"
      - "Document new architecture"
      - "Use Architect agent to iteratively improve"
    success_criteria:
      - "Only 2 autonomous locations: autonomous-core and project/autonomous"
      - "All agents work without path confusion"
      - "New developers understand structure in 5 minutes"
      - "No duplicate or obsolete folders"
      - "Clear separation: engine vs project data"

  # --- Continuous Architecture Evolution ---
  - id: IG-007
    name: "Continuous Architecture Evolution"
    description: "Self-improving architecture system where AI agents continuously analyze, optimize, and evolve codebase layout"
    category: architecture
    target_file: "~/blackbox5/5-project-memory/blackbox5/"
    priority: high
    status: active
    note: "Includes merged IG-005 (Documentation Quality)"
    current_issues:
      - "Architecture doesn't improve automatically"
      - "Documentation gets stale"
      - "No systematic improvement process"
    improvement_ideas:
      - "AI agents analyze structure and suggest improvements"
      - "First principles validate all suggestions"
      - "Iterative execution with feedback loops"
      - "Documentation evolves with architecture"
    success_criteria:
      - "Architecture improves every week"
      - "Documentation stays current"
      - "No explicit human direction needed"

  # --- Hook Automation Goals ---
  - id: IG-009
    name: "Improve Hook Automation"
    description: "Continuously improve the hook system that automates task lifecycle and maintains system state"
    category: infrastructure
    target_file: "~/blackbox5/.claude/hooks/"
    priority: critical
    status: active
    note: "Phase 1 complete (9 hooks). Merged IG-010. Now continuous improvement."
    current_issues:
      - "Task status transitions are manual"
      - "Skills not auto-invoked"
      - "Learnings not auto-extracted"
    improvement_ideas:
      - "Auto-claim tasks from queue"
      - "Auto-update status to in_progress"
      - "Pre-completion validation hooks"
      - "Integrate best practices from 19+ GitHub repos"
    success_criteria:
      - "90%+ task completion automation"
      - "80%+ skill auto-invocation rate"
      - "15%+ learning-to-improvement extraction rate"

  # --- Production Readiness ---
  - id: IG-011
    name: "Production Readiness"
    description: "Bring BlackBox5 to production quality for multi-agent cluster deployment"
    category: infrastructure
    target_file: "~/blackbox5/"
    priority: critical
    status: in_progress
    current_issues:
      - "File locking incomplete (50%)"
      - "Path abstraction low (24%)"
      - "Storage backend fragmented (11%)"
    improvement_ideas:
      - "Add flock to critical scripts"
      - "Abstract all hardcoded paths"
      - "Unify storage backends"
    success_criteria:
      - "File locking: 100%"
      - "Path abstraction: 80%+"
      - "Overall architecture score: 85+"
      - "Multi-agent cluster ready"

  # --- MERGED GOALS ---
  # IG-003 merged into CG-004 (Intelligent Navigation System) on 2026-02-04
  # IG-005 merged into IG-007 on 2026-02-04
  # IG-010 merged into IG-009 on 2026-02-10

# =============================================================================
# DATA COLLECTION GOALS - Ensuring we capture the right data
# =============================================================================

data_goals:
  - id: DG-001
    name: "Capture Actionable Learnings"
    description: "Every run must produce at least one actionable insight with concrete action_item"
    priority: high
    status: active
    required_data:
      - "What worked well (to repeat)"
      - "What was hard (to fix)"
      - "What would we do differently (to improve)"
      - "Patterns detected (to analyze)"
      - "Action item (mandatory - concrete task to create)"
    storage: "runs/run-*/LEARNINGS.md"
    format: "Structured YAML with action_item field (see .templates/tasks/LEARNINGS.md.template)"

  - id: DG-002
    name: "Track Decision Rationale"
    description: "Document why choices were made for future analysis"
    priority: high
    status: active
    required_data:
      - "Decision made"
      - "Alternatives considered"
      - "Why this choice"
      - "Expected outcome"
    storage: "runs/run-*/DECISIONS.md"

  - id: DG-003
    name: "Validate Assumptions"
    description: "Track assumptions and their validation status"
    priority: high
    status: active
    required_data:
      - "Assumption stated"
      - "Validation method"
      - "Validation result"
      - "Confidence level"
    storage: "runs/run-*/ASSUMPTIONS.md"

# =============================================================================
# REVIEW SCHEDULE
# =============================================================================

review_schedule:
  first_principles_review:
    frequency: "every 5 runs"
    next_due: "2026-02-05"
    last_completed: null
    trigger_condition: "current_loop % 5 == 0"
    auto_trigger: true
    process_documentation: "operations/.docs/first-principles-guide.md"

  monthly_goal_review:
    frequency: "monthly"
    next_due: "2026-03-01"
    last_completed: null

  quarterly_strategy_review:
    frequency: "quarterly"
    next_due: "2026-04-01"
    last_completed: null

improvement_pipeline:
  status: "active"
  pipeline_definition: "operations/improvement-pipeline.yaml"
  guide: "operations/.docs/improvement-pipeline-guide.md"
  template: ".templates/tasks/LEARNINGS.md.template"
  queue_path: ".autonomous/tasks/improvements/"

  metrics:
    target_application_rate: 50
    target_actionable_learnings: 80
    current_application_rate: 2
    current_actionable_learnings: 20

  process:
    learning_capture: "Every run - LEARNINGS.md with action_item"
    review_cycle: "Every 5 runs - First principles review"
    task_creation: "High impact learnings → IMP-*.md files"
    validation: "Before/after metrics comparison"

# =============================================================================
# GOAL HIERARCHY
# =============================================================================
#
# core_goals (why we exist)
#   └── improvement_goals (how we get better)
#         ├── guidance (CLAUDE.md)
#         ├── process (LEGACY.md)
#         ├── skills (.skills/)
#         └── documentation (.docs/)
#
# data_goals (what we track to measure progress)
#
# =============================================================================

# =============================================================================
# CHANGE LOG
# =============================================================================

changelog:
  - date: "2026-02-01"
    version: "1.0.0"
    changes:
      - "Initial goal structure created"
      - "4 improvement goals defined (CLAUDE.md, LEGACY.md, system flow, skills)"
      - "3 data goals defined (learnings, decisions, assumptions)"
      - "Review schedule established"
