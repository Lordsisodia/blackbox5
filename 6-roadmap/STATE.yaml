# ============================================================================
# BLACKBOX5 ROADMAP - SINGLE SOURCE OF TRUTH
# ============================================================================
# Purpose: Track all improvements from idea to completion
# Last Updated: 2026-02-07
# ============================================================================
# This is the SINGLE SOURCE OF TRUTH for the roadmap.
# All dashboards are generated from this file.
# ============================================================================

# ============================================================================
# SYSTEM METADATA
# ============================================================================
system:
  name: "blackbox5-roadmap"
  version: "2.1"
  updated: "2026-02-07T00:00:00Z"
  status: "active-development"

# ============================================================================
# NEXT BEST ACTION
# ============================================================================
# AI agents should start here. This is the highest-priority unblocked item.
next_action: "PLAN-003"

# ============================================================================
# QUICK STATS
# ============================================================================
stats:
  total: 33
  proposed: 24
  research: 1
  design: 0
  planned: 4
  active: 0
  completed: 9
  cancelled: 0
  backlog: 0

# ============================================================================
# PLANS INDEX
# ============================================================================
plans:
  # Plans ready to start (no dependencies)
  ready_to_start:
    - id: "PLAN-003"
      name: "Implement Planning Agent"
      priority: "high"
      effort: "3-5 days"
      domain: "agents"
      category: "feature"
      dependencies: []
      blocks: []
      path: "03-planned/PLAN-003-implement-planning-agent/"
      note: "Dependencies completed (PLAN-002, PLAN-005). PLAN-001 was obsolete."

    - id: "PLAN-006"
      name: "Remove Redundant Code and Systems"
      priority: "high"
      effort: "3-5 days"
      domain: "infrastructure"
      category: "refactor"
      dependencies: []
      blocks: []
      path: "03-planned/PLAN-006-remove-duplicates/"

    - id: "PLAN-011"
      name: "Ralph Master Prompt and Core Components"
      priority: "critical"
      effort: "1-2 weeks"
      domain: "agents"
      category: "feature"
      dependencies: []
      blocks: []
      path: "03-planned/PLAN-011-ralph-master-prompt-and-core-components/"
      note: "Defines master system prompts for Ralph's autonomous loop behavior"

    - id: "PLAN-013"
      name: "Implement Thought Loop Framework"
      priority: "critical"
      effort: "1-2 weeks"
      domain: "agents"
      category: "feature"
      dependencies: []
      blocks: []
      path: "03-planned/PLAN-013-implement-thought-loop-framework/"
      note: "Formerly PLAN-008 thought-loop. Iterative reasoning capability for agents."

  # Plans blocked by dependencies
  blocked: []

  # Completed plans
  completed:
    - id: "PLAN-005"
      name: "Initialize Vibe Kanban Database"
      priority: "immediate"
      effort: "1-2 hours"
      domain: "infrastructure"
      category: "bugfix"
      dependencies: []
      blocks: ["PLAN-003"]
      completed_at: "2026-01-31"
      executed_by: "RALF (Agent-2.3)"
      path: "05-completed/PLAN-005-initialize-vibe-kanban/"
      deliverables:
        - "Updated Vibe Kanban from v0.0.152 to v0.0.166"
        - "Added port auto-detection to VibeKanbanManager"
        - "Verified API connectivity (8 projects, 13 tasks)"
        - "BlackBox5 project created (id: 48ec7737-b706-4817-b86c-5786163a0139)"
      notes: "Issue was port configuration mismatch, not database initialization. Solution: Auto-detect Vibe Kanban port using lsof."

    - id: "PLAN-002"
      name: "Fix YAML Agent Loading"
      priority: "critical"
      effort: "1 day"
      domain: "agents"
      category: "bugfix"
      dependencies: []
      blocks: ["PLAN-003"]
      completed_at: "2026-01-31"
      executed_by: "RALF (Agent-2.5)"
      path: "03-planned/PLAN-002-fix-yaml-loading/"
      deliverables:
        - "AgentLoader._load_yaml_agents() implemented"
        - "YAML agents load dynamically as Python classes"
        - "21/21 agents loading (3 core + 18 specialists)"
      notes: "YAML agent loading was already implemented in agent_loader.py. Verification confirmed 21/21 agents load successfully."

    - id: "PLAN-004"
      name: "Fix Import Path Errors"
      priority: "critical"
      effort: "1-2 days"
      domain: "infrastructure"
      category: "bugfix"
      dependencies: []
      blocks: []
      completed_at: "2026-01-31"
      executed_by: "RALF (Agent-2.4/2.5)"
      path: "03-planned/PLAN-004-fix-import-paths/"
      deliverables:
        - "Fixed import path in server.py (commit 13f2382)"
        - "Fixed agent loading imports (commit c7f5e51)"
        - "Python compilation audit completed"
      notes: "Multiple commits fixed import paths. TASK-1769813746 verified completion. Template files have expected placeholders."

    - id: "PLAN-001"
      name: "Fix Skills System Critical Issues"
      priority: "critical"
      effort: "1-2 days"
      domain: "skills"
      category: "bugfix"
      dependencies: []
      blocks: []
      completed_at: "2026-01-31"
      executed_by: "RALF (Agent-2.4)"
      path: "05-completed/PLAN-001-fix-skills-system/"
      deliverables:
        - "TASK-1738300332 - Skills audit confirmed single canonical system"
        - "Verified: 2-engine/.autonomous/skills/ with 15 skills"
        - "Decision: NO ACTION REQUIRED - System already healthy"
      notes: "OBSOLETE: Original plan described 3 conflicting skills systems that don't exist. Directories skills-cap/ and .skills-new/ not found. Only canonical system at 2-engine/.autonomous/skills/ exists."

    - id: "PLAN-007"
      name: "Enable 90% LLMLingua Compression"
      priority: "immediate"
      effort: "15 min"
      domain: "infrastructure"
      category: "feature"
      dependencies: []
      blocks: []
      completed_at: "2026-01-20"
      executed_by: "Ralphy v4.0.0 (autonomous coding agent)"
      path: "03-planned/PLAN-007-enable-90-compression/"
      deliverables:
        - "verify_compression_setup.py (282 lines)"
        - "test_verify_compression_setup.py (198 lines)"
        - "Deployed to blackbox5/2-engine/01-core/middleware/"
      notes: "Verification script created with graceful fallback. User needs HuggingFace auth for full 90% compression."

    - id: "PLAN-008"
      name: "Fix Critical API Mismatches in main.py"
      priority: "critical"
      effort: "2-3 hours"
      domain: "infrastructure"
      category: "bugfix"
      dependencies: []
      blocks: []
      completed_at: "2026-01-20"
      executed_by: "Blackbox5 Wave 0 Agent"
      path: "05-completed/PLAN-008-fix-critical-api-mismatches/"
      deliverables:
        - "Fixed Task constructor parameter (task_id -> id)"
        - "Fixed Orchestrator method call (execute_wave_based -> execute_workflow)"
        - "Fixed AgentTask parameter names"
        - "Fixed all task.task_id references"
      notes: "All API mismatches resolved. System can now boot and process requests."

    - id: "PLAN-009"
      name: "Fix Statistics Coroutine Warnings"
      priority: "medium"
      effort: "1 hour"
      domain: "infrastructure"
      category: "bugfix"
      dependencies: []
      blocks: []
      completed_at: "2026-02-01"
      executed_by: "Claude"
      path: "05-completed/PLAN-009-fix-statistics-coroutine/"
      deliverables:
        - "Verified get_statistics() is async in main.py"
        - "Verified all callers properly await async methods"
      notes: "Issue was already resolved in current simplified main.py implementation."

    - id: "PLAN-010"
      name: "Add Missing Dependencies to requirements.txt"
      priority: "medium"
      effort: "30 minutes"
      domain: "infrastructure"
      category: "bugfix"
      dependencies: []
      blocks: []
      completed_at: "2026-02-01"
      executed_by: "Claude"
      path: "05-completed/PLAN-010-add-missing-dependencies/"
      deliverables:
        - "Added llmlingua>=0.2.2 to requirements.txt"
        - "Created requirements-dev.txt with testing and dev tools"
      notes: "Redis, pyyaml, chromadb, neo4j were already present. Only llmlingua was missing."

    - id: "PLAN-012"
      name: "API Gateway Implementation"
      priority: "high"
      effort: "1 week"
      domain: "infrastructure"
      category: "feature"
      dependencies: []
      blocks: []
      completed_at: "2026-02-01"
      executed_by: "Claude"
      path: "05-completed/PLAN-012-api-gateway/"
      deliverables:
        - "API Gateway specification and implementation plan"
      notes: "API Gateway planning completed."

# ============================================================================
# DEPENDENCIES
# ============================================================================
dependencies:
  # What each plan blocks
  blocking: {}

  # What each plan is blocked by
  blocked: []

  # Circular dependencies (should be empty)
  circular: []

# ============================================================================
# PROPOSALS INDEX
# ============================================================================
proposals:
  # Tier 1: Critical (4 proposals - 66% weight)
  critical:
    - id: "PROPOSAL-001"
      name: "Memory & Context System Research"
      weight: 18
      domain: "memory"
      path: "00-proposed/PROPOSAL-001-memory-context/"

    - id: "PROPOSAL-002"
      name: "Reasoning & Planning System Research"
      weight: 17
      domain: "agents"
      path: "00-proposed/PROPOSAL-002-reasoning-planning/"

    - id: "PROPOSAL-003"
      name: "Skills & Capabilities System Research"
      weight: 16
      domain: "skills"
      path: "00-proposed/PROPOSAL-003-skills-capabilities/"

    - id: "PROPOSAL-004"
      name: "Execution & Safety System Research"
      weight: 15
      domain: "tools"
      path: "00-proposed/PROPOSAL-004-execution-safety/"

    - id: "PROPOSAL-024"
      name: "Three-Tier Hierarchical Memory System"
      weight: 15
      domain: "memory"
      path: "00-proposed/PROPOSAL-024-three-tier-memory/"
      status: "partially-implemented"
      note: "60-70% complete. Has WorkingMemory + PersistentMemory. Missing SummaryTier layer."

  # Tier 2: High (6 proposals - 51% weight)
  high:
    - id: "PROPOSAL-005"
      name: "Agent Types & Specialization Research"
      weight: 12
      domain: "agents"
      path: "00-proposed/PROPOSAL-005-agent-types/"

    - id: "PROPOSAL-020"
      name: "Open Source Black Box with VibeKanban Integration"
      weight: 12
      domain: "product"
      path: "00-proposed/PROPOSAL-020-open-source-vibekanban/"

    - id: "PROPOSAL-021"
      name: "Memory Compression System"
      weight: 11
      domain: "memory"
      path: "00-proposed/PROPOSAL-021-memory-compression/"
      note: "Intelligent memory compression using DeerFlow research on context optimization"

    - id: "PROPOSAL-006"
      name: "Learning & Adaptation System Research"
      weight: 10
      domain: "agents"
      path: "00-proposed/PROPOSAL-006-learning-adaptation/"

    - id: "PROPOSAL-007"
      name: "Data Architecture & Processing Research"
      weight: 9
      domain: "infrastructure"
      path: "00-proposed/PROPOSAL-007-data-architecture/"

    - id: "PROPOSAL-008"
      name: "Performance & Optimization Research"
      weight: 8
      domain: "infrastructure"
      path: "00-proposed/PROPOSAL-008-performance-optimization/"

    - id: "PROPOSAL-022"
      name: "GraphRAG Integration for Enhanced Retrieval"
      weight: 8
      domain: "memory"
      path: "00-proposed/PROPOSAL-022-graphrag-integration/"
      note: "Graph-based RAG for improved memory retrieval"

  # Tier 3: Medium (7 proposals - 34% weight)
  medium:
    - id: "PROPOSAL-009"
      name: "Security & Governance Research"
      weight: 7
      domain: "infrastructure"
      path: "00-proposed/PROPOSAL-009-security-governance/"

    - id: "PROPOSAL-010"
      name: "Orchestration Frameworks Research"
      weight: 6
      domain: "agents"
      path: "00-proposed/PROPOSAL-010-orchestration-frameworks/"

    - id: "PROPOSAL-011"
      name: "Observability & Monitoring Research"
      weight: 6
      domain: "infrastructure"
      path: "00-proposed/PROPOSAL-011-observability-monitoring/"

    - id: "PROPOSAL-012"
      name: "Communication & Collaboration Research"
      weight: 5
      domain: "agents"
      path: "00-proposed/PROPOSAL-012-communication-collaboration/"

    - id: "PROPOSAL-013"
      name: "Integrations Research"
      weight: 5
      domain: "infrastructure"
      path: "00-proposed/PROPOSAL-013-integrations/"

    - id: "PROPOSAL-014"
      name: "User Experience & Interface Research"
      weight: 4
      domain: "cli"
      path: "00-proposed/PROPOSAL-014-user-experience/"

    - id: "PROPOSAL-023"
      name: "Memory Compression with LLMLingua"
      weight: 4
      domain: "memory"
      path: "00-proposed/PROPOSAL-023-memory-compression-llmlingua/"
      status: "completed"
      completed_at: "2026-01-19"
      note: "âœ… COMPLETED - LLMLingua prompt compression integrated. 20-30% cost reduction active."

  # Tier 4: Foundational (5 proposals - 10% weight)
  low:
    - id: "PROPOSAL-015"
      name: "Testing & Validation Research"
      weight: 3
      domain: "testing"
      path: "00-proposed/PROPOSAL-015-testing-validation/"

    - id: "PROPOSAL-016"
      name: "State Management Research"
      weight: 2
      domain: "infrastructure"
      path: "00-proposed/PROPOSAL-016-state-management/"

    - id: "PROPOSAL-017"
      name: "Configuration System Research"
      weight: 2
      domain: "infrastructure"
      path: "00-proposed/PROPOSAL-017-configuration/"

    - id: "PROPOSAL-018"
      name: "Deployment & DevOps Research"
      weight: 2
      domain: "infrastructure"
      path: "00-proposed/PROPOSAL-018-deployment-devops/"

    - id: "PROPOSAL-019"
      name: "Documentation System Research"
      weight: 1
      domain: "documentation"
      path: "00-proposed/PROPOSAL-019-documentation/"

# ============================================================================
# RESEARCH INDEX
# ============================================================================
research:
  active:
    - id: "VALIDATION-001"
      name: "Comprehensive Validation Report"
      status: "complete"
      date: "2026-01-19"
      domain: "validation"
      path: "01-research/VALIDATION-001-comprehensive-validation/"

# ============================================================================
# VALIDATION INDEX
# ============================================================================
validation:
  items:
    - id: "VALIDATION-1"
      name: "Core Infrastructure Validation"
      domain: "infrastructure"
      path: "02-validation/VALIDATION-1-core-infrastructure/"
      
    - id: "VALIDATION-2"
      name: "Memory Context Validation"
      domain: "memory"
      path: "02-validation/VALIDATION-2-memory-context/"
      
    - id: "VALIDATION-3"
      name: "Agent System Validation"
      domain: "agents"
      path: "02-validation/VALIDATION-3-agent-system/"
      
    - id: "VALIDATION-4"
      name: "Skills Capabilities Validation"
      domain: "skills"
      path: "02-validation/VALIDATION-4-skills-capabilities/"
      
    - id: "VALIDATION-5"
      name: "Safety Resilience Validation"
      domain: "infrastructure"
      path: "02-validation/VALIDATION-5-safety-resilience/"
      
    - id: "VALIDATION-6"
      name: "Integrations MCP Validation"
      domain: "integrations"
      path: "02-validation/VALIDATION-6-integrations-mcp/"
      
    - id: "VALIDATION-7"
      name: "Ralphy Workflow Validation"
      domain: "agents"
      path: "02-validation/VALIDATION-7-ralphy-workflow/"
      
    - id: "VALIDATION-8"
      name: "Documentation Redundancy Validation"
      domain: "documentation"
      path: "02-validation/VALIDATION-8-documentation-redundancy/"
      
    - id: "VALIDATION-9"
      name: "Vibe Kanban Enhancement Validation"
      domain: "integrations"
      path: "02-validation/VALIDATION-9-vibe-kanban-enhancement/"

# ============================================================================
# STATUS BY DOMAIN
# ============================================================================
status_by_domain:
  agents: 8
  skills: 3
  memory: 7
  tools: 1
  cli: 1
  infrastructure: 14
  testing: 2
  documentation: 3
  validation: 1
  product: 1
  integrations: 2

# ============================================================================
# STATUS BY PRIORITY
# ============================================================================
status_by_priority:
  critical: 8
  high: 7
  medium: 9
  low: 5
  immediate: 4

# ============================================================================
# STATUS BY CATEGORY
# ============================================================================
status_by_category:
  feature: 4
  bugfix: 3
  refactor: 2
  research: 19
  infrastructure: 4
  validation: 1

# ============================================================================
# FIRST PRINCIPLES ANALYSIS
# ============================================================================
first_principles:
  features_documented: 0
  assumptions_challenged: 0
  validations_completed: 1
  last_review: "2026-01-19"

# ============================================================================
# METADATA
# ============================================================================
metadata:
  created_at: "2026-01-19T12:00:00Z"
  created_by: "system"
  version: "2.1"
  last_updated_by: "Claude"
  update_notes: "Added PROPOSAL-021 through PROPOSAL-024, PLAN-011, PLAN-013, VALIDATION-1 through VALIDATION-9, updated stats"
